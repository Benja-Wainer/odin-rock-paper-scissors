<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
  </head>
  <body></body>

  <script>
    console.log("Hello World");

    const choices = ["rock", "paper", "scissors"];

    function getComputerChoice() {
      return choices[Math.floor(Math.random() * 3)];
    }

    function getHumanChoice() {
      let humanChoice = prompt("Choose your move! (rock, paper or scissors)");
      while (choices.includes(humanChoice.toLowerCase()) === false) {
        humanChoice = prompt(
          "That's not a valid move! Choose rock, paper or scissors."
        );
      }
      return humanChoice.toLowerCase();
    }

    function capitalize(string) {
      return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
    }

    function playGame() {
      let humanScore = 0;
      let computerScore = 0;

      function playRound(humanChoice, computerChoice) {
        if (humanChoice === computerChoice) {
          console.log(`It's a tie! You both choose ${humanChoice}.`);
        } else if (
          (humanChoice === "rock" && computerChoice === "scissors") ||
          (humanChoice === "paper" && computerChoice === "rock") ||
          (humanChoice === "scissors" && computerChoice === "paper")
        ) {
          console.log(
            `You win! ${capitalize(humanChoice)} beats ${computerChoice}.`
          );
          humanScore += 1;
        } else {
          console.log(
            `You lose! ${capitalize(computerChoice)} beats ${humanChoice}.`
          );
          computerScore += 1;
        }
      }

      for (let i = 0; i <= 4; i++) {
        playRound(getHumanChoice(), getComputerChoice());
      }

      console.log(`Your score: ${humanScore}`);
      console.log(`Computer score: ${computerScore}`);
      if (humanScore > computerScore) {
        console.log("You win!");
      } else if (humanScore < computerScore) {
        console.log("You lose...");
      } else {
        console.log("It's a tie.");
      }
    }

    playGame();
  </script>
</html>
